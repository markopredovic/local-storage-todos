(this["webpackJsonpcustom-hook-todos"]=this["webpackJsonpcustom-hook-todos"]||[]).push([[0],[,,,,,,function(e,t,o){e.exports=o(13)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(5),c=o.n(a),i=(o(11),o(2)),l=(o(12),function(e){var t=e.title;return r.a.createElement("h1",null,t)}),u=Object(n.createContext)({todos:[],addTodo:function(){},deleteTodo:function(){},getTodos:function(){}}),s=function(){var e=Object(n.useContext)(u),t=Object(n.useRef)("");return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,onSubmit:function(o){o.preventDefault();var n={};n.id=Math.round(1e3*Math.random()),n.name=t.current.value,n.isComplete=!1,e.addTodo(n),t.current.value=null}},r.a.createElement("input",{type:"text",placeholder:"add new todo",ref:t}),r.a.createElement("button",{type:"submit"},"Submit")))},d=function(e){var t=Object(n.useContext)(u);return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:e.isComplete,onChange:function(){return t.toggleTodo(e.id)}}),e.name),r.a.createElement("button",{onClick:function(){return t.removeTodo(e.id)},style:{marginLeft:"10px",fontSize:"10px",color:"red"}},"remove"),r.a.createElement("button",{onClick:function(){return t.archiveTodo(e.id)},style:{marginLeft:"10px",fontSize:"10px",color:"green"}},"archive"))},f=function(){var e=Object(n.useContext)(u).todos.map((function(e){return r.a.createElement(d,Object.assign({key:e.id},e))}));return r.a.createElement("div",null,e)},O=function(e){var t=Object(n.useContext)(u);return r.a.createElement("li",null,r.a.createElement("div",null,e.name,r.a.createElement("button",{onClick:function(){return t.backToTodos(e.id)}},"back to todos")))},p=function(){var e=Object(n.useContext)(u),t=Object(n.useState)(!1),o=Object(i.a)(t,2),a=o[0],c=o[1];console.log("context:",e);var l=e.archive.map((function(e){return r.a.createElement(O,Object.assign({key:e.key},e))}));return console.log("archive:",l),r.a.createElement(r.a.Fragment,null,l.length?r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("button",{onClick:function(){return c(!a)}},a?"Hide":"Show"," archive"),r.a.createElement("div",{style:{display:a?"block":"none"}},l)):null)},v=o(3),m=o(1);function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(o,!0).forEach((function(t){Object(v.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var g={todos:[],archive:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return y({},e,{todos:[].concat(Object(m.a)(e.todos),[t.payload])});case"GET_TODOS":return y({},e,{todos:t.payload});case"TOGGLE_TODO":return E(e,t.payload);case"REMOVE_TODO":return j(e,t.payload);case"ADD_TODO_ARCHIVE":return w(e,t.payload);case"LOAD_TODOS_ARCHIVE":return y({},e,{archive:t.payload});case"BACK_TODO":return T(e,t.payload);default:return e}},E=function(e,t){var o=e.todos.map((function(e){return e.id===t?y({},e,{isComplete:!e.isComplete}):e}));return y({},e,{todos:o})},j=function(e,t){var o=e.todos.filter((function(e){return e.id===t?null:e}));return console.log("Remove todo: ",o),y({},e,{todos:o})},w=function(e,t){var o=e.todos.filter((function(e){return e.id===t}))[0];console.log("archiveTodo",o);var n=e.todos.filter((function(e){return e.id===t?null:e}));return y({},e,{todos:n,archive:[].concat(Object(m.a)(e.archive),[o])})},T=function(e,t){var o=e.archive.filter((function(e){return e.id===t}))[0],n=e.archive.filter((function(e){return e.id===t?null:e}));return y({},e,{todos:[].concat(Object(m.a)(e.todos),[o]),archive:n})};function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var S=function(e){var t=Object(n.useReducer)(h,{todos:[],archive:[]}),o=Object(i.a)(t,2),r=o[0],a=o[1];Object(n.useEffect)((function(){console.log("use effect 1");var t=JSON.parse(window.localStorage.getItem(e));t&&a({type:"GET_TODOS",payload:t})}),[]),Object(n.useEffect)((function(){console.log("use effect 2");var t=JSON.parse(window.localStorage.getItem("".concat(e,"-archive")));console.log("archive",t),t&&a({type:"LOAD_TODOS_ARCHIVE",payload:t})}),[]);return[r,function(t){var o=[].concat(Object(m.a)(r.todos),[t]);window.localStorage.setItem(e,JSON.stringify(o)),a({type:"ADD_TODO",payload:t})},function(t){var o=Object(m.a)(r.todos).filter((function(e){return e.id===t?null:e}));window.localStorage.setItem(e,JSON.stringify(o)),a({type:"REMOVE_TODO",payload:t})},function(t){var o=Object(m.a)(r.todos).map((function(e){return e.id===t?function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(o,!0).forEach((function(t){Object(v.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e,{isComplete:!e.isComplete}):e}));window.localStorage.setItem(e,JSON.stringify(o)),a({type:"TOGGLE_TODO",payload:t})},function(t){var o=r.todos.filter((function(e){return e.id===t}))[0],n=[].concat(Object(m.a)(r.archive),[o]),c=Object(m.a)(r.todos).filter((function(e){return e.id!==t}));window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),a({type:"ADD_TODO_ARCHIVE",payload:t})},function(t){var o=r.archive.filter((function(e){return e.id===t}))[0];o.isComplete=!1;var n=r.archive.filter((function(e){return e.id!==t})),c=[].concat(Object(m.a)(r.todos),[o]);window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),a({type:"BACK_TODO",payload:t})}]};var C=function(){var e=S("custom-hook-todos"),t=Object(i.a)(e,6),o=t[0],n=t[1],a=t[2],c=t[3],d=t[4],O=t[5];return r.a.createElement(u.Provider,{value:{todos:o.todos,archive:o.archive,addTodo:n,toggleTodo:c,removeTodo:a,archiveTodo:d,backToTodos:O}},r.a.createElement("div",{className:"App"},r.a.createElement(l,{title:"Todos"}),r.a.createElement(s,null),r.a.createElement(f,null),r.a.createElement(p,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.0a95e802.chunk.js.map