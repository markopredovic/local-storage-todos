(this["webpackJsonpcustom-hook-todos"]=this["webpackJsonpcustom-hook-todos"]||[]).push([[0],{23:function(e,t,a){e.exports=a(45)},28:function(e,t,a){},29:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),i=(a(28),a(10)),l=a(9),s=a(11),u=(a(29),a(3)),d="/quick-todos",m=function(){return r.a.createElement("nav",{className:"l-header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{to:d,exact:!0,activeClassName:"is-link-active"},r.a.createElement(u.b,null))),r.a.createElement("li",null,r.a.createElement(l.c,{to:"".concat(d,"/add-todo"),exact:!0,activeClassName:"is-link-active"},r.a.createElement(u.f,null))),r.a.createElement("li",null,r.a.createElement(l.c,{to:"".concat(d,"/archive"),exact:!0,activeClassName:"is-link-active"},r.a.createElement(u.c,null)))))},p=Object(n.createContext)({todos:[],addTodo:function(){},deleteTodo:function(){},getTodos:function(){}}),g=function(){var e=Object(n.useContext)(p);return r.a.createElement("div",{className:"l-footer"},r.a.createElement("div",{className:"l-container"},r.a.createElement("div",{className:"l-lang"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return e.setLanguage("rs")},className:"rs"===e.lang?"m-active-lang lang-link":"lang-link"},"Srpski")),r.a.createElement("li",null,"|"),r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return e.setLanguage("en")},className:"en"===e.lang?"m-active-lang lang-link":"lang-link"},"English"))))))},f=a(1),v=a(7),O=a.n(v),E=Object(s.f)((function(e){var t=new O.a({en:{addToList:"Added to the list!",inputPlaceholderAdd:"enter task",emptyField:"empty field!"},rs:{addToList:"Dodato u listu!",inputPlaceholderAdd:"unesi stavku",emptyField:"prazno polje!"}}),a=Object(n.useContext)(p),o=Object(n.useRef)(""),c=Object(n.useState)(null),l=Object(i.a)(c,2),s=l[0],d=l[1];t.setLanguage(a.lang),Object(n.useEffect)((function(){o.current.focus()}),[]);var m=function(){return 0===o.current.value.length?t.emptyField:""};return r.a.createElement("div",{className:"l-add-todo"},r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),d(null);var n=m();if(n.length)return d(n);var r={};r.id=Math.round(1e3*Math.random()),r.name=o.current.value,r.isComplete=!1,a.addTodo(r),o.current.value=null,o.current.focus(),f.ToastsStore.success(t.addToList)}},r.a.createElement("input",{type:"text",placeholder:t.inputPlaceholderAdd,ref:o,style:s&&{borderColor:"red"}}),r.a.createElement("span",{className:"m-inline-error",style:{whiteSpace:"pre-wrap"}},s),r.a.createElement("button",{className:"m-button green",type:"submit"},r.a.createElement(u.e,null))),r.a.createElement(f.ToastsContainer,{store:f.ToastsStore,position:f.ToastsContainerPosition.TOP_RIGHT}))})),h=function(e){var t=new O.a({en:{itemCompleted:"Task is completed!",itemReactivated:"Task is reactivated",itemDeleted:"Item is deleted!",itemArchived:"Item is archived!"},rs:{itemCompleted:"Stavka je kompletirana!",itemReactivated:"Stavka je ponovo aktivirana",itemDeleted:"Stavka je obrisana!",itemArchived:"Stavka je arhivirana!"}}),a=Object(n.useContext)(p),o=Object(n.useRef)(null);t.setLanguage(a.lang);return r.a.createElement("div",{className:"m-todo"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:e.isComplete,onChange:function(){console.log("[INPUT REF]",o.current.checked),a.toggleTodo(e.id),o.current.checked?f.ToastsStore.success(t.itemCompleted):f.ToastsStore.success(t.itemReactivated)},ref:o}),r.a.createElement("span",{className:"m-unchecked m-checkbox-icon"},r.a.createElement(u.g,null)),r.a.createElement("span",{className:"m-checked m-checkbox-icon"},r.a.createElement(u.a,null)),e.name),r.a.createElement("button",{className:"m-button red",onClick:function(){a.removeTodo(e.id),f.ToastsStore.error(t.itemDeleted)}},r.a.createElement(u.d,null)),r.a.createElement("button",{className:"m-button green",onClick:function(){a.archiveTodo(e.id),f.ToastsStore.info(t.itemArchived)}},r.a.createElement(u.c,null)),r.a.createElement(f.ToastsContainer,{store:f.ToastsStore,position:f.ToastsContainerPosition.TOP_RIGHT}))},b=function(){var e=new O.a({en:{emptyList:"List is empty.",addItem:"Add todo"},rs:{emptyList:"Lista je prazna.",addItem:"Dodaj stavku"}}),t=Object(n.useContext)(p);e.setLanguage(t.lang);var a=r.a.createElement("div",{className:"l-empty-list"},r.a.createElement("p",null,e.emptyList),r.a.createElement(l.b,{to:"".concat(d,"/add-todo")},e.addItem)),o=function(e,t){var a=e*t;return[a,a+t-1]}(t.pagination.currentPage,t.pagination.itemsPerPage),c=Object(i.a)(o,2),s=c[0],u=c[1];return t.todos.length&&(a=t.todos.filter((function(e,t){return t>=s&&t<=u})).map((function(e){return r.a.createElement(h,Object.assign({key:e.id},e))}))),r.a.createElement("div",{className:"l-todos"},a)},y=function(e){var t=e.index,a=Object(n.useContext)(p),o=t===a.pagination.currentPage;return r.a.createElement("button",{className:o?"current btn-pagination":"btn-pagination",onClick:function(){return a.setCurrentPage(t)}},t+1)},T=function(){var e,t=Object(n.useContext)(p),a=(e=function(){var e=t.todos.length,a=t.pagination.itemsPerPage;return e%a!==0?Math.floor(e/a)+1:Math.floor(e/a)}(),new Array(e).fill("").map((function(e,t){return r.a.createElement(y,{key:t,index:t})})));return r.a.createElement("div",{className:"l-pagination"},a)},j=function(){var e=Object(n.useContext)(p);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),!(e.todos.length<=e.pagination.itemsPerPage)&&r.a.createElement(T,null))},P=function(e){var t=new O.a({en:{revertedToList:"Reverted to main list!"},rs:{revertedToList:"Vraceno u listu!"}}),a=Object(n.useContext)(p);t.setLanguage(a.lang);return r.a.createElement("li",null,r.a.createElement("div",{className:"l-archive-item"},r.a.createElement("span",null,e.name),r.a.createElement("button",{className:"m-button blue",onClick:function(){f.ToastsStore.warning(t.revertedToList),1===e.length?setTimeout((function(){a.backToTodos(e.id)}),800):a.backToTodos(e.id)}},r.a.createElement(u.h,null))),r.a.createElement(f.ToastsContainer,{store:f.ToastsStore,position:f.ToastsContainerPosition.TOP_RIGHT}))},k=function(){var e=new O.a({en:{emptyArchive:"Archive is empty!"},rs:{emptyArchive:"Arhiva je prazna!"}}),t=Object(n.useContext)(p);return e.setLanguage(t.lang),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"l-archive"},t.archive.length?t.archive.map((function(e,a){return r.a.createElement(P,Object.assign({key:a},e,{length:t.archive.length}))})):r.a.createElement("div",null,e.emptyArchive)))},w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null))},C=a(14),S=a(6);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A={todos:[],archive:[],pagination:{itemsPerPage:5,currentPage:0},lang:"sr"},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return D({},e,{todos:[].concat(Object(S.a)(e.todos),[t.payload])});case"GET_TODOS":return D({},e,{todos:t.payload});case"TOGGLE_TODO":return L(e,t.payload);case"REMOVE_TODO":return x(e,t.payload);case"ADD_TODO_ARCHIVE":return I(e,t.payload);case"LOAD_TODOS_ARCHIVE":return D({},e,{archive:t.payload});case"BACK_TODO":return R(e,t.payload);case"SET_CURRENT_PAGE":return D({},e,{pagination:D({},e.pagination,{currentPage:t.payload})});case"SET_LANG":return D({},e,{lang:t.payload});default:return e}},L=function(e,t){var a=e.todos.map((function(e){return e.id===t?D({},e,{isComplete:!e.isComplete}):e}));return D({},e,{todos:a})},x=function(e,t){var a=e.todos.filter((function(e){return e.id===t?null:e})),n=e.pagination,r=a.length%n.itemsPerPage===0?n.currentPage-1:n.currentPage;return D({},e,{todos:a,pagination:D({},e.pagination,{currentPage:r})})},I=function(e,t){var a=e.todos.filter((function(e){return e.id===t}))[0],n=e.todos.filter((function(e){return e.id===t?null:e})),r=e.pagination,o=n.length%r.itemsPerPage===0?r.currentPage-1:r.currentPage;return D({},e,{todos:n,archive:[].concat(Object(S.a)(e.archive),[a]),pagination:D({},e.pagination,{currentPage:o})})},R=function(e,t){var a=e.archive.filter((function(e){return e.id===t}))[0],n=e.archive.filter((function(e){return e.id===t?null:e}));return D({},e,{todos:[].concat(Object(S.a)(e.todos),[a]),archive:n})};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){var t=Object(n.useReducer)(_,{todos:[],archive:[],pagination:{itemsPerPage:10,currentPage:0},lang:"rs"}),a=Object(i.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem(e));t&&o({type:"GET_TODOS",payload:t})}),[]),Object(n.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem("".concat(e,"-archive")));t&&o({type:"LOAD_TODOS_ARCHIVE",payload:t})}),[]);return[r,function(t){var a=[].concat(Object(S.a)(r.todos),[t]);window.localStorage.setItem(e,JSON.stringify(a)),o({type:"ADD_TODO",payload:t})},function(t){var a=Object(S.a)(r.todos).filter((function(e){return e.id===t?null:e}));window.localStorage.setItem(e,JSON.stringify(a)),o({type:"REMOVE_TODO",payload:t})},function(t){var a=Object(S.a)(r.todos).map((function(e){return e.id===t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{isComplete:!e.isComplete}):e}));window.localStorage.setItem(e,JSON.stringify(a)),o({type:"TOGGLE_TODO",payload:t})},function(t){var a=r.todos.filter((function(e){return e.id===t}))[0],n=[].concat(Object(S.a)(r.archive),[a]),c=Object(S.a)(r.todos).filter((function(e){return e.id!==t}));window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),o({type:"ADD_TODO_ARCHIVE",payload:t})},function(t){var a=r.archive.filter((function(e){return e.id===t}))[0];a.isComplete=!1;var n=r.archive.filter((function(e){return e.id!==t})),c=[].concat(Object(S.a)(r.todos),[a]);window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),o({type:"BACK_TODO",payload:t})},function(e){o({type:"SET_CURRENT_PAGE",payload:e})},function(e){return o({type:"SET_LANG",payload:e})}]};var V=function(){var e=J("custom-hook-todos"),t=Object(i.a)(e,8),a=t[0],n=t[1],o=t[2],c=t[3],u=t[4],f=t[5],v=t[6],O=t[7];return r.a.createElement(p.Provider,{value:{todos:a.todos,archive:a.archive,pagination:a.pagination,lang:a.lang,addTodo:n,toggleTodo:c,removeTodo:o,archiveTodo:u,backToTodos:f,setCurrentPage:v,setLanguage:O}},r.a.createElement(l.a,null,r.a.createElement("div",{className:"l-container"},r.a.createElement(m,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:d,exact:!0},r.a.createElement(j,null)),r.a.createElement(s.a,{path:"".concat(d,"/add-todo"),exact:!0},r.a.createElement(E,null)),r.a.createElement(s.a,{path:"".concat(d,"/archive"),exact:!0},r.a.createElement(w,null))),r.a.createElement(g,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.26fc5357.chunk.js.map