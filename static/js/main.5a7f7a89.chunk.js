(this["webpackJsonpcustom-hook-todos"]=this["webpackJsonpcustom-hook-todos"]||[]).push([[0],{22:function(e,t,a){e.exports=a(42)},27:function(e,t,a){},28:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=(a(27),a(11)),i=a(8),s=a(9),u=(a(28),a(3)),d="/quick-todos",m=function(){return o.a.createElement("nav",{className:"l-header"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(i.c,{to:d,exact:!0,activeClassName:"is-link-active"},o.a.createElement(u.b,null))),o.a.createElement("li",null,o.a.createElement(i.c,{to:"".concat(d,"/add-todo"),exact:!0,activeClassName:"is-link-active"},o.a.createElement(u.f,null))),o.a.createElement("li",null,o.a.createElement(i.c,{to:"".concat(d,"/archive"),exact:!0,activeClassName:"is-link-active"},o.a.createElement(u.c,null)))))},f=a(2),O=Object(n.createContext)({todos:[],addTodo:function(){},deleteTodo:function(){},getTodos:function(){}}),v=Object(s.f)((function(e){var t=Object(n.useContext)(O),a=Object(n.useRef)(""),r=Object(n.useState)(null),c=Object(l.a)(r,2),i=c[0],s=c[1];Object(n.useEffect)((function(){a.current.focus()}),[]);var d=function(){return 0===a.current.value.length?"Text is empty! \n(Tekst je prazan!)":""};return o.a.createElement("div",{className:"l-add-todo"},o.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),s(null);var n=d();if(n.length)return s(n);var o={};o.id=Math.round(1e3*Math.random()),o.name=a.current.value,o.isComplete=!1,t.addTodo(o),a.current.value=null,a.current.focus(),f.ToastsStore.success("Added to the list! \n(Dodato u listu!)")}},o.a.createElement("input",{type:"text",placeholder:"add (unesi)",ref:a,style:i&&{borderColor:"red"}}),o.a.createElement("span",{className:"m-inline-error",style:{whiteSpace:"pre-wrap"}},i),o.a.createElement("button",{className:"m-button green",type:"submit"},o.a.createElement(u.e,null))),o.a.createElement(f.ToastsContainer,{store:f.ToastsStore,position:f.ToastsContainerPosition.TOP_LEFT}))})),p=function(e){var t=Object(n.useContext)(O);return o.a.createElement("div",{className:"m-todo"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:e.isComplete,onChange:function(){return t.toggleTodo(e.id)}}),o.a.createElement("span",{className:"m-unchecked m-checkbox-icon"},o.a.createElement(u.g,null)),o.a.createElement("span",{className:"m-checked m-checkbox-icon"},o.a.createElement(u.a,null)),e.name),o.a.createElement("button",{className:"m-button red",onClick:function(){t.removeTodo(e.id),f.ToastsStore.error("Item is deleted! \n(Stavka je obrisana)")}},o.a.createElement(u.d,null)),o.a.createElement("button",{className:"m-button green",onClick:function(){t.archiveTodo(e.id),f.ToastsStore.info("Item is archived! \n(Stavka je arhivirana!)")}},o.a.createElement(u.c,null)),o.a.createElement(f.ToastsContainer,{store:f.ToastsStore}))},E=function(){var e=Object(n.useContext)(O),t=o.a.createElement("div",{className:"l-empty-list"},o.a.createElement("p",null,"List is empty. (Lista je prazna.)"),o.a.createElement(i.b,{to:"".concat(d,"/add-todo")},"Add todo (Dodaj stavku)"));return e.todos.length&&(t=e.todos.map((function(e){return o.a.createElement(p,Object.assign({key:e.id},e))}))),o.a.createElement("div",{className:"l-todos"},t)},b=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null))},h=function(e){var t=Object(n.useContext)(O);return o.a.createElement("li",null,o.a.createElement("div",{className:"l-archive-item"},o.a.createElement("span",null,e.name),o.a.createElement("button",{className:"m-button blue",onClick:function(){t.backToTodos(e.id),f.ToastsStore.warning("Reverted to main list! \n(Vraceno u listu!)")}},o.a.createElement(u.h,null))),o.a.createElement(f.ToastsContainer,{store:f.ToastsStore}))},y=function(){var e=Object(n.useContext)(O),t=o.a.createElement("div",null,"Archive is empty ",o.a.createElement("br",null),"(Arhiva je prazna)");return e.archive.length?t=e.archive.map((function(e){return o.a.createElement(h,Object.assign({key:e.key},e))})):f.ToastsStore.info("Archive is empty! \n(Arhiva je prazna)"),o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"l-archive"},t,o.a.createElement(f.ToastsContainer,{store:f.ToastsStore})))},g=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,null))},j=a(13),T=a(6);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={todos:[],archive:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return S({},e,{todos:[].concat(Object(T.a)(e.todos),[t.payload])});case"GET_TODOS":return S({},e,{todos:t.payload});case"TOGGLE_TODO":return k(e,t.payload);case"REMOVE_TODO":return N(e,t.payload);case"ADD_TODO_ARCHIVE":return P(e,t.payload);case"LOAD_TODOS_ARCHIVE":return S({},e,{archive:t.payload});case"BACK_TODO":return _(e,t.payload);default:return e}},k=function(e,t){var a=e.todos.map((function(e){return e.id===t?S({},e,{isComplete:!e.isComplete}):e}));return S({},e,{todos:a})},N=function(e,t){var a=e.todos.filter((function(e){return e.id===t?null:e}));return console.log("Remove todo: ",a),S({},e,{todos:a})},P=function(e,t){var a=e.todos.filter((function(e){return e.id===t}))[0];console.log("archiveTodo",a);var n=e.todos.filter((function(e){return e.id===t?null:e}));return S({},e,{todos:n,archive:[].concat(Object(T.a)(e.archive),[a])})},_=function(e,t){var a=e.archive.filter((function(e){return e.id===t}))[0],n=e.archive.filter((function(e){return e.id===t?null:e}));return S({},e,{todos:[].concat(Object(T.a)(e.todos),[a]),archive:n})};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var A=function(e){var t=Object(n.useReducer)(C,{todos:[],archive:[]}),a=Object(l.a)(t,2),o=a[0],r=a[1];Object(n.useEffect)((function(){console.log("use effect 1");var t=JSON.parse(window.localStorage.getItem(e));t&&r({type:"GET_TODOS",payload:t})}),[]),Object(n.useEffect)((function(){console.log("use effect 2");var t=JSON.parse(window.localStorage.getItem("".concat(e,"-archive")));console.log("archive",t),t&&r({type:"LOAD_TODOS_ARCHIVE",payload:t})}),[]);return[o,function(t){var a=[].concat(Object(T.a)(o.todos),[t]);window.localStorage.setItem(e,JSON.stringify(a)),r({type:"ADD_TODO",payload:t})},function(t){var a=Object(T.a)(o.todos).filter((function(e){return e.id===t?null:e}));window.localStorage.setItem(e,JSON.stringify(a)),r({type:"REMOVE_TODO",payload:t})},function(t){var a=Object(T.a)(o.todos).map((function(e){return e.id===t?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{isComplete:!e.isComplete}):e}));window.localStorage.setItem(e,JSON.stringify(a)),r({type:"TOGGLE_TODO",payload:t})},function(t){var a=o.todos.filter((function(e){return e.id===t}))[0],n=[].concat(Object(T.a)(o.archive),[a]),c=Object(T.a)(o.todos).filter((function(e){return e.id!==t}));window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),r({type:"ADD_TODO_ARCHIVE",payload:t})},function(t){var a=o.archive.filter((function(e){return e.id===t}))[0];a.isComplete=!1;var n=o.archive.filter((function(e){return e.id!==t})),c=[].concat(Object(T.a)(o.todos),[a]);window.localStorage.setItem("".concat(e,"-archive"),JSON.stringify(n)),window.localStorage.setItem("".concat(e),JSON.stringify(c)),r({type:"BACK_TODO",payload:t})}]};var I=function(){var e=A("custom-hook-todos"),t=Object(l.a)(e,6),a=t[0],n=t[1],r=t[2],c=t[3],u=t[4],f=t[5];return o.a.createElement(O.Provider,{value:{todos:a.todos,archive:a.archive,addTodo:n,toggleTodo:c,removeTodo:r,archiveTodo:u,backToTodos:f}},o.a.createElement(i.a,null,o.a.createElement("div",{className:"l-container"},o.a.createElement(m,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:d,exact:!0},o.a.createElement(b,null)),o.a.createElement(s.a,{path:"".concat(d,"/add-todo"),exact:!0},o.a.createElement(v,null)),o.a.createElement(s.a,{path:"".concat(d,"/archive"),exact:!0},o.a.createElement(g,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.5a7f7a89.chunk.js.map